<!-- Invoice Preview Modal -->
<div id="invoicePreviewModal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-[70] flex items-center justify-center p-4">
    <div class="bg-white rounded-lg w-full max-w-md shadow-2xl">
        <!-- Modal Header -->
        <div class="p-4 border-b border-gray-200 flex items-center justify-between">
            <h2 class="text-lg font-bold">Xem trước hóa đơn</h2>
            <button onclick="closeInvoicePreview()" class="p-2 hover:bg-gray-100 rounded-lg">
                <i class="fas fa-times text-gray-600"></i>
            </button>
        </div>

        <!-- Invoice Content -->
        <div id="invoiceContent" class="p-6 max-h-[70vh] overflow-y-auto bg-white">
            <!-- Store Info -->
            <div class="text-center mb-4">
                <div class="text-center mt-3 flex items-center justify-center gap-2">
                    <span class="text-blue-600 font-bold text-lg">TB</span>
                    <div class="text-lg font-bold">thietbisieuthi.bi</div>
                </div>
                <div class="text-xs text-gray-600">Trần Đại Nghĩa, Hoài Đức, Xã Sơn Tây, Huyện Hoài Đức,</div>
                <div class="text-xs text-gray-600">Hà Nội</div>
                <div class="text-xs text-gray-600">0971902631</div>
            </div>

            <!-- Invoice Title -->
            <div class="text-center mb-3">
                <div class="text-base font-bold">HÓA ĐƠN BÁN HÀNG</div>
                <!-- Barcode -->
                <div class="flex justify-center my-2">
                    <svg id="barcode"></svg>
                </div>
                <div class="text-xs">SO04180001</div>
            </div>

            <!-- Invoice Details -->
            <div class="text-xs space-y-1 mb-3">
                <div class="flex justify-between">
                    <span>Ngày bán</span>
                    <span>21/06/2020 - 10:04</span>
                </div>
                <div class="flex justify-between">
                    <span>N/V</span>
                    <span>Nhân viên Bán Hàng - 0945403</span>
                </div>
                <div class="flex justify-between">
                    <span>Đ/C</span>
                    <span class="text-right">Thôn Đại Nghĩa, Hoài Đức, Hà Nội,<br/>Xã Đa Dạ, TP Đà Nẵng</span>
                </div>
            </div>

            <!-- Separator -->
            <div class="border-t border-dashed border-gray-400 my-2"></div>

            <!-- Products Table -->
            <table class="w-full text-xs mb-2">
                <thead>
                    <tr class="border-b border-gray-300">
                        <th class="text-left pb-1">SL</th>
                        <th class="text-left pb-1">ĐG</th>
                        <th class="text-center pb-1">CK</th>
                        <th class="text-right pb-1">T.Tiền</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="4" class="pt-2 pb-1 font-medium">Áo sơ mi kẻ sọc - L</td>
                    </tr>
                    <tr class="border-gray-200">
                        <td>2</td>
                        <td>450,000</td>
                        <td class="text-center">0</td>
                        <td class="text-right">900,000</td>
                    </tr>
                </tbody>
            </table>

            <!-- Separator -->
            <div class="border-t border-dashed border-gray-400 my-2"></div>

            <!-- Summary -->
            <div class="text-xs space-y-1">
                <div class="flex justify-between">
                    <span>Tổng số lượng</span>
                    <span class="text-right">2</span>
                </div>
                <div class="flex justify-between">
                    <span>Tổng tiền hàng</span>
                    <span class="text-right">900,000</span>
                </div>
                <div class="flex justify-between">
                    <span>Chiết khấu</span>
                    <span class="text-right">0</span>
                </div>
                <div class="flex justify-between">
                    <span>Phí giao hàng</span>
                    <span class="text-right">35,000</span>
                </div>
                <div class="flex justify-between font-bold text-sm">
                    <span>Khách phải trả</span>
                    <span class="text-right">935,000</span>
                </div>
                <div class="flex justify-between">
                    <span>Tiền khách đưa</span>
                    <span class="text-right">1,000,000</span>
                </div>
                <div class="flex justify-between">
                    <span>Tiền mặt</span>
                    <span class="text-right">935,000</span>
                </div>
                <div class="flex justify-between">
                    <span>Tiền trả lại</span>
                    <span class="text-right">0</span>
                </div>
            </div>

            <!-- Separator -->
            <div class="border-t border-dashed border-gray-400 my-3"></div>

            <!-- Footer Message -->
            <div class="text-center text-xs text-gray-600">
                Quý khách được phép đổi trả hàng trong vòng 7<br/>
                ngày kể từ ngày mua hàng
            </div>
        </div>

        <!-- Modal Footer -->
        <div class="p-4 border-t border-gray-200 flex gap-3 justify-end bg-gray-50">
            <button onclick="closeInvoicePreview()" class="px-4 py-2 text-sm border border-gray-300 rounded-lg hover:bg-white">
                Đóng
            </button>
            <button onclick="printInvoicePDF()" class="px-4 py-2 text-sm bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2">
                <i class="fas fa-print"></i>
                In thử
            </button>
        </div>
    </div>
</div>
